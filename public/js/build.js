/*! rainmakertheme 2014-11-25 */
(function(){$(function(){var a,b,c,d,e,f,g,h,i,j;g=function(a){var b,c;b=function(a){return console.log(a)},c={method:"feed",link:a.link,description:a.message},void 0!==a.actions&&(c.actions=a.actions),void 0!==a.name&&(c.name=a.name),void 0!==a.ref&&(c.ref=a.ref),void 0!==a.photo&&(c.picture=a.photo),FB.ui(c,b)},$("a.social-button.twitter, a[rel=twitter-share]").click(function(){var a,b,c,d;return c=encodeURIComponent($(this).data("message")?$(this).data("message"):$("title").text()),b=encodeURIComponent($(this).data("link")?$(this).data("link"):window.location.search||!window.$memberId?window.location.href:window.location.href+"?_m="+window.$memberId),a=screen.width/2-275,d=screen.height/2-225,window.open("https://twitter.com/share?url="+b+"&text="+c,"twittershare","menubar=0,resizable=1,width=550,height=450,scrollbars=0,location=0,directories=0,toolbar=0,top="+d+",left="+a),!1}),$("a.social-button.gplus, a[rel=gplus-share]").click(function(){var a,b,c;return b=encodeURIComponent($(this).data("link")?$(this).data("link"):window.location.href),a=screen.width/2-275,c=screen.height/2-225,window.open("https://plus.google.com/share?url="+b,"twittershare","menubar=0,resizable=1,width=550,height=450,scrollbars=0,location=0,directories=0,toolbar=0,top="+c+",left="+a),!1}),$("a.social-button.facebook, a[rel=facebook-share]").click(function(){var a;return a={},a.message=$(this).data("message"),a.link=$(this).data("link")?$(this).data("link"):window.location.search||!window.$memberId?window.location.href:window.location.href+"?_m="+window.$memberId,$(this).data("photo")&&(a.photo=$(this).data("photo")),$(this).data("ref")&&(a.ref=$(this).data("ref")),$(this).data("name")&&(a.name=$(this).data("name")),$(this).data("action-name")&&(a.actions="[{'name':'"+$(this).data("action-name")+"','link':'"+($(this).data("action-link")?$(this).data("action-link"):window.location.href)+"'}]"),g(a),!1}),$("span.numberBox").each(function(){$(this).click(function(){$(this).addClass("active"),$(this).parent().siblings().find(".active").removeClass("active")})}),$("span.numberBox").each(function(){$(this).click(function(){var a;a=$(this).data("value"),$('input[name="amount"]').val(a)})}),$('input[name="donationAmount"]').on("keyup blur change focus",function(){var a;a=$(this).val(),$('input[name="amount"]').val(a),$("span.numberBox.active").each(function(){return $(this).removeClass("active")})}),$(".tab").click(function(){var a,b;a=$(this),b=a.data("target"),$(this).siblings().removeClass("active"),$(this).addClass("active"),$("#"+b).is(":visible")?console.log("Do Nothing."):$("div.tab-content:visible").fadeOut("fast",function(){return $("#"+b).fadeIn("fast")})}),i=document.getElementById("menuToggle"),b=document.getElementById("canvas"),j=function(){return $(i).find("i").toggleClass("active"),$(b).toggleClass("show-nav"),!1},c=function(){return $(i).find("i").removeClass("active"),$(b).removeClass("show-nav"),!1},$(i).click(function(){return j()}),$(".sideMenu span.close").click(function(){return c()}),$(document).keyup(function(a){return 27===a.keyCode?c():void 0}),$(document).click(function(a){var b;return b=$(a.target).attr("class"),"show-nav"===b?c():void 0}),$(window).on("load",function(){$(".project-tabs .tab:first-of-type").addClass("in"),$(".cities li:first-of-type").addClass("active"),$("#faq .question:first-of-type").addClass("in"),$(".faq li:first-of-type").addClass("active")}),$("span.image > img").click(function(){var a;return a=$(this).attr("src"),$('input[name="fileUrl"]').val(a)}),h=function(){return $(".image").each(function(){var a,b;return a=$(this).parent().find(".content"),b=$(a).innerHeight(),$(this).innerHeight(b)})},h(),$("ul.tabs li").click(function(){var a;a=$(this).attr("data-target"),$(this).addClass("active").siblings().removeClass("active"),$("div.tab").removeClass("in"),$(a).addClass("in")}),$("ul.faq li").click(function(){var a;a=$(this).attr("data-target"),$(this).addClass("active").siblings().removeClass("active"),$("div.question").removeClass("in"),$(a).addClass("in")}),$(window).resize(function(){h()}),$(".slider").each(function(){return $(this).unslider({fluid:!0})}),$(".unslider-arrow").click(function(){var a;a=this.className.split(" ")[2],$(this).parent().siblings().find(".slider").data("unslider")[a]()}),$("#video").click(function(){return $("body").css({overflow:"hidden"}),$(".modal").css({opacity:1,height:"auto","z-index":3,display:"inline-block"}),$(".overlay").css({opacity:1,height:"auto","z-index":2,display:"inline-block"})}),$(".modal").click(function(){return $(".overlay").css({opacity:0,height:"auto","z-index":0,display:"none"}),$(this).css({opacity:0,height:"auto","z-index":0,display:"none"}),$("body").css({overflow:"visible"})}),d="month",a=[{img:"http://rainmakerapp.s3.amazonaws.com/storks/images/tier-2.png",level:"Save A Stork",description:"We divided the cost of a Bus by the number of moms and children who could be saved in one year. It costs about $30/month to Save a Stork. By partnering with us at $30/month, you can save a mother from the grief and heartache of abortion.",gifts:["Silver Stork Pendant","Two T-Shirts"]},{img:"http://rainmakerapp.s3.amazonaws.com/storks/images/tier-2.jpg",level:"Save A Bundle",description:"We divided the cost of a Bus by the number of moms and children who could be saved in one year. It costs about $30/month to Save a Stork. By partnering with us at $60/month, you can save two mothers from the grief and heartache of abortion.",gifts:["Silver Stork Pendant","Four T-Shirts"]},{img:"http://rainmakerapp.s3.amazonaws.com/storks/images/tier-3.jpg",level:"Be a Superhero",description:"We divided the cost of a Bus by the number of moms and children who could be saved in one year. It costs about $30/month to Save a Stork. By partnering with us at $150/month, you can save five mothers from the grief and heartache of abortion.",gifts:["Silver Stork Pendant","Four T-Shirts"]},{img:"http://rainmakerapp.s3.amazonaws.com/storks/images/tier-4.jpg",level:"Save a Flock",description:"We divided the cost of a Bus by the number of moms and children who could be saved in one year. It costs about $30/month to Save a Stork. By partnering with us at $350/month, you can save twelve mothers from the grief and heartache of abortion.",gifts:["Silver Stork Pendant","Four T-Shirts"]}],f=function(){return $('input[name="gift"]').change(function(){var a;return a=$(this).val(),a.indexOf("Four")>-1?($(".sizes.two").fadeOut(),$(".sizes.four").fadeIn()):a.indexOf("Two")>-1?($(".sizes.four").fadeOut(),$(".sizes.two").fadeIn()):$(".sizes").fadeOut()})},e=function(){var b,c,d,e,g,h,i,j,k,l,m,n,o,p,q;if(b=$(".amount input").val(),29>=b?$(".campaign-level").fadeOut():$(".campaign-level").fadeIn(),b>=30&&59>=b){for($(".level").text(a[0].level),$(".description").text(a[0].description),$(".gifts").html('<div class="col width-33"><label for="declineGift">Decline Gift</label><input type="radio" name="gift" id="declineGift" value="declineGift"></div>'),$(".img").html('<img src="'+a[0].img+'" />'),n=a[0].gifts,e=0,j=n.length;j>e;e++)d=n[e],c=d.split(" "),$(".gifts").append('<div class="col width-33"><label>'+d+'</label><input type="radio" name="gift" class="gift" value='+c[0]+"></div>");return f()}if(b>=60&&149>=b){for($(".level").text(a[1].level),$(".description").text(a[1].description),$(".gifts").html('<div class="col width-33"><label for="declineGift">Decline Gift</label><input type="radio" name="gift"  id="declineGift" value="declineGift" class="gift"></div>'),$(".img").html('<img src="'+a[1].img+'" />'),o=a[1].gifts,g=0,k=o.length;k>g;g++)d=o[g],c=d.split(" "),$(".gifts").append('<div class="col width-33"><label>'+d+'</label><input type="radio" name="gift" class="gift" value='+c[0]+"></div>");return f()}if(b>=150&&349>=b){for($(".level").text(a[2].level),$(".description").text(a[2].description),$(".gifts").html('<div class="col width-33"><label for="declineGift">Decline Gift</label><input type="radio" name="gift" id="declineGift" value="declineGift" class="gift"></div>'),$(".img").html('<img src="'+a[2].img+'" />'),p=a[2].gifts,h=0,l=p.length;l>h;h++)d=p[h],c=d.split(" "),$(".gifts").append('<div class="col width-33"><label>'+d+'</label><input type="radio" name="gift" class="gift" value='+c[0]+"></div>");return f()}if(b>=350){for($(".level").text(a[3].level),$(".description").text(a[3].description),$(".gifts").html('<div class="col width-33"><label for="declineGift">Decline Gift</label><input type="radio" name="gift"  id="declineGift" value="declineGift" class="gift"></div>'),$(".img").html('<img src="'+a[3].img+'" />'),q=a[3].gifts,i=0,m=q.length;m>i;i++)d=q[i],c=d.split(" "),$(".gifts").append('<div class="col width-33"><label>'+d+'</label><input type="radio" name="gift" class="gift" value='+c[0]+"></div>");return f()}},$(".amount input").on("keyup keydown keypress blur",function(){return $(".any").parent().addClass("active").parent().siblings(".toggle").find(".active").removeClass("active"),e()}),$(".amount-toggle").on("click",function(){var a,b;return a=$(this).data("monthly"),b=$(this).data("yearly"),"month"===d?($(".amount input").val(a),e()):($(".amount input").val(b),e()),$(this).toggleClass("active").parent().siblings(".toggle").find(".active").removeClass("active")}),$(".frequency").on("click",function(){var a,b;return d=$(this).data("frequency"),a=$(document).find(".amount-toggle.active").data("monthly"),b=$(document).find(".amount-toggle.active").data("yearly"),"month"===d?$(".amount input").val(a):"year"===d&&$(".amount input").val(b),$(this).addClass("active").parent().siblings().find(".frequency").not($(this)).removeClass("active"),!1}),$("a#donateModal").click(function(){return d=$(".frequency.active").data("frequency"),"month"===d&&(d="m"),$rain({action:"donate",amount:$(".amount input").val(),project:249,recurring:d,lockamount:!0,message:"Customize this message!"}),!1})})}).call(this),function(){window.fbAsyncInit=function(){FB.init({appId:window.facebookAppId,channelUrl:window.facebookChannelFile,status:!0,cookie:!0,xfbml:!0,oauth:!0}),$(document).trigger("facebook:ready")},function(a,b,c){var d,e;e=void 0,d=a.getElementsByTagName(b)[0],a.getElementById(c)||(e=a.createElement(b),e.id=c,e.src="//connect.facebook.net/en_US/all.js",d.parentNode.insertBefore(e,d))}(document,"script","facebook-jssdk"),$(function(){var a;return a=function(){return FB.login(function(a){a.authResponse?$.ajax({url:"/act/session/connectfacebook",type:"POST",data:{"access-token":a.authResponse.accessToken,"user-id":a.authResponse.userId,"--delay-facebook-friend-import":!0,"--json":!0,"--login":!0},success:function(a){1===a.success?$(document).trigger("momentum:facebook-login-success",[a]):$(document).trigger("momentum:facebook-login-error",[a])}}):$(document).trigger("momentum:facebook-login-cancel")},{scope:null==window.facebookLoginScope?"email,user_likes":window.facebookLoginScope}),!1},$(document).on("click","a[rel=facebook-login]",a),$(document).on("momentum:facebook-login",a),$(document).on("momentum:facebook-login-success",function(){window.location="/my-storks/sign-up?step=2"}),$(document).on("momentum:facebook-login-cancel",function(){}),$(document).on("momentum:facebook-login-error",function(a,b){alert("Could not create your account with the system. Please try again later. "+b.message)})})}.call(this);